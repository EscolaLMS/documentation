import{_ as s,o as a,c as l,V as e}from"./chunks/framework.c495fe11.js";const d=JSON.parse('{"title":"Create LMS APP","description":"","frontmatter":{},"headers":[],"relativePath":"packages/create-lms-app.md","filePath":"packages/create-lms-app.md"}'),n={name:"packages/create-lms-app.md"},o=e(`<h1 id="create-lms-app" tabindex="-1">Create LMS APP <a class="header-anchor" href="#create-lms-app" aria-label="Permalink to &quot;Create LMS APP&quot;">â€‹</a></h1><p>This package contains all the resources need to install Wellms Headless LMS from docker-images</p><h2 id="tl-dr" tabindex="-1">TL;DR <a class="header-anchor" href="#tl-dr" aria-label="Permalink to &quot;TL;DR&quot;">â€‹</a></h2><p>Run <code>npx --package=@escolalms/cla lms</code></p><h2 id="installation-on-macos-or-linux" tabindex="-1">Installation on MacOs or Linux <a class="header-anchor" href="#installation-on-macos-or-linux" aria-label="Permalink to &quot;Installation on MacOs or Linux&quot;">â€‹</a></h2><p>Below are instruction on how to install Wellms on MacOs or Linux. Windows with WSL should work fine, yet there might be some issues</p><ul><li>please <a href="https://github.com/EscolaLMS/Create-LMS-App/issues/new" target="_blank" rel="noreferrer">do share them</a> with us.</li></ul><h2 id="environmental-variables" tabindex="-1">Environmental variables <a class="header-anchor" href="#environmental-variables" aria-label="Permalink to &quot;Environmental variables&quot;">â€‹</a></h2><h3 id="laravel-specific-laravel-prefix" tabindex="-1">Laravel specific. <code>LARAVEL_PREFIX</code> <a class="header-anchor" href="#laravel-specific-laravel-prefix" aria-label="Permalink to &quot;Laravel specific. \`LARAVEL_PREFIX\`&quot;">â€‹</a></h3><p>After container is initialized, it <a href="https://github.com/EscolaLMS/API/blob/develop/docker/envs/envs.php" target="_blank" rel="noreferrer">looks for variables</a> with this prefix then replace current ones in <code>.env</code> file</p><p>Example</p><div class="language-yaml"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#F07178;">LARAVEL_APP_ENV</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">production</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#F07178;">LARAVEL_APP_KEY</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">base64:vw6G2uP8LV22haEERtzr5yDCBraLrMwbxlbSJDA97uk=</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#F07178;">LARAVEL_APP_DEBUG</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">false</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#F07178;">LARAVEL_APP_LOG</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">errorlog</span><span style="color:#89DDFF;">&quot;</span></span></code></pre></div><p>will result in</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">Replacing</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">.env</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">file</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">APP_ENV</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">local</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">to</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">production</span></span>
<span class="line"><span style="color:#FFCB6B;">Replacing</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">.env</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">file</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">APP_KEY</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">base64:pveos6JL8iCwO3MbzoyQpNx6TETMYuUpfZ18CDKl6Cw=</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">to</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">base64:vw6G2uP8LV22haEERtzr5yDCBraLrMwbxlbSJDA97uk=</span></span>
<span class="line"><span style="color:#FFCB6B;">Replacing</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">.env</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">file</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">APP_DEBUG</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">true</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">to</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">false</span></span>
<span class="line"><span style="color:#FFCB6B;">Replacing</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">.env</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">file</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">APP_LOG_LEVEL</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">debug</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">to</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">debug</span></span></code></pre></div><h3 id="urls" tabindex="-1">URLs <a class="header-anchor" href="#urls" aria-label="Permalink to &quot;URLs&quot;">â€‹</a></h3><p>You can use this following variables when calling bash or makefile task</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">APP_URL</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;\${</span><span style="color:#A6ACCD;">APP_URL</span><span style="color:#89DDFF;">:-</span><span style="color:#A6ACCD;">http</span><span style="color:#89DDFF;">://</span><span style="color:#A6ACCD;">api</span><span style="color:#C3E88D;">.</span><span style="color:#A6ACCD;">wellms</span><span style="color:#C3E88D;">.</span><span style="color:#A6ACCD;">localhost</span><span style="color:#89DDFF;">}&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">ADMIN_URL</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;\${</span><span style="color:#A6ACCD;">ADMIN_URL</span><span style="color:#89DDFF;">:-</span><span style="color:#A6ACCD;">http</span><span style="color:#89DDFF;">://</span><span style="color:#A6ACCD;">admin</span><span style="color:#C3E88D;">.</span><span style="color:#A6ACCD;">wellms</span><span style="color:#C3E88D;">.</span><span style="color:#A6ACCD;">localhost</span><span style="color:#89DDFF;">}&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">FRONT_URL</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;\${</span><span style="color:#A6ACCD;">FRONT_URL</span><span style="color:#89DDFF;">:-</span><span style="color:#A6ACCD;">http</span><span style="color:#89DDFF;">://</span><span style="color:#A6ACCD;">app</span><span style="color:#C3E88D;">.</span><span style="color:#A6ACCD;">wellms</span><span style="color:#C3E88D;">.</span><span style="color:#A6ACCD;">localhost</span><span style="color:#89DDFF;">}&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">MAILHOG_URL</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;\${</span><span style="color:#A6ACCD;">MAILHOG_URL</span><span style="color:#89DDFF;">:-</span><span style="color:#A6ACCD;">http</span><span style="color:#89DDFF;">://</span><span style="color:#A6ACCD;">mailhog</span><span style="color:#C3E88D;">.</span><span style="color:#A6ACCD;">wellms</span><span style="color:#C3E88D;">.</span><span style="color:#A6ACCD;">localhost</span><span style="color:#89DDFF;">}&quot;</span></span></code></pre></div><p>Example</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">APP_URL</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">http://my-super-api.localhost</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">make</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">init</span></span></code></pre></div><p>or</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">APP_URL</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">http://my-super-api.localhost</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">make</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">k8s-rebuild</span></span></code></pre></div><h2 id="kubernetes" tabindex="-1">Kubernetes <a class="header-anchor" href="#kubernetes" aria-label="Permalink to &quot;Kubernetes&quot;">â€‹</a></h2><h3 id="without-helm" tabindex="-1">Without <code>helm</code> <a class="header-anchor" href="#without-helm" aria-label="Permalink to &quot;Without \`helm\`&quot;">â€‹</a></h3><p>All <code>yaml</code> file templates are inside <a href="https://github.com/EscolaLMS/Create-LMS-App/tree/main/k8s/tpls" target="_blank" rel="noreferrer"><code>k8s/tpls</code></a> folder</p><p>You can either generate yaml by calling bash script <code>cd k8s &amp;&amp; bash generate.sh</code> or by calling makefile job \`make or but setting all config manually</p><p>Once <code>yaml</code> files are in <code>k8s</code> folder run <code>kubectl apply -f k8s</code></p><h4 id="custom-domain" tabindex="-1">Custom domain <a class="header-anchor" href="#custom-domain" aria-label="Permalink to &quot;Custom domain&quot;">â€‹</a></h4><p>Those are env variables you can set while running generate</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">APP_URL</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;\${</span><span style="color:#A6ACCD;">APP_URL</span><span style="color:#89DDFF;">:-</span><span style="color:#A6ACCD;">http</span><span style="color:#89DDFF;">://</span><span style="color:#A6ACCD;">api</span><span style="color:#C3E88D;">.</span><span style="color:#A6ACCD;">wellms</span><span style="color:#C3E88D;">.</span><span style="color:#A6ACCD;">localhost</span><span style="color:#89DDFF;">}&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">ADMIN_URL</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;\${</span><span style="color:#A6ACCD;">ADMIN_URL</span><span style="color:#89DDFF;">:-</span><span style="color:#A6ACCD;">http</span><span style="color:#89DDFF;">://</span><span style="color:#A6ACCD;">admin</span><span style="color:#C3E88D;">.</span><span style="color:#A6ACCD;">wellms</span><span style="color:#C3E88D;">.</span><span style="color:#A6ACCD;">localhost</span><span style="color:#89DDFF;">}&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">FRONT_URL</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;\${</span><span style="color:#A6ACCD;">FRONT_URL</span><span style="color:#89DDFF;">:-</span><span style="color:#A6ACCD;">http</span><span style="color:#89DDFF;">://</span><span style="color:#A6ACCD;">app</span><span style="color:#C3E88D;">.</span><span style="color:#A6ACCD;">wellms</span><span style="color:#C3E88D;">.</span><span style="color:#A6ACCD;">localhost</span><span style="color:#89DDFF;">}&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">MAILHOG_URL</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;\${</span><span style="color:#A6ACCD;">MAILHOG_URL</span><span style="color:#89DDFF;">:-</span><span style="color:#A6ACCD;">http</span><span style="color:#89DDFF;">://</span><span style="color:#A6ACCD;">mailhog</span><span style="color:#C3E88D;">.</span><span style="color:#A6ACCD;">wellms</span><span style="color:#C3E88D;">.</span><span style="color:#A6ACCD;">localhost</span><span style="color:#89DDFF;">}&quot;</span></span></code></pre></div><h3 id="first-run" tabindex="-1">First run <a class="header-anchor" href="#first-run" aria-label="Permalink to &quot;First run&quot;">â€‹</a></h3><p>Required dependencies:</p><ul><li><code>docker</code></li><li><code>k8s</code></li><li><code>minikube</code></li><li><code>k9s</code> or whatever to view your kubernetes resources (e.g. <code>Lens</code>)</li></ul><h4 id="mac-os" tabindex="-1">Mac OS <a class="header-anchor" href="#mac-os" aria-label="Permalink to &quot;Mac OS&quot;">â€‹</a></h4><p>Run makefile commands:</p><ul><li><code>make minikube-init</code></li><li><code>make k8s-init</code></li><li><code>make minikube-tunnel</code></li><li>wait a minute and enjoy the Wellms ðŸ˜ƒ</li></ul><h3 id="rebuild-existing-instance" tabindex="-1">Rebuild existing instance <a class="header-anchor" href="#rebuild-existing-instance" aria-label="Permalink to &quot;Rebuild existing instance&quot;">â€‹</a></h3><ul><li><code>make minikube-force-delete</code></li><li><code>make k8s-rebuild</code></li><li><code>make minikube-tunnel</code></li></ul><h4 id="windows" tabindex="-1">Windows <a class="header-anchor" href="#windows" aria-label="Permalink to &quot;Windows&quot;">â€‹</a></h4><p><code>TODO</code></p><h3 id="with-helm" tabindex="-1">With <code>helm</code> <a class="header-anchor" href="#with-helm" aria-label="Permalink to &quot;With \`helm\`&quot;">â€‹</a></h3><p><code>WIP</code></p><h3 id="available-wellms-resources" tabindex="-1">Available Wellms resources: <a class="header-anchor" href="#available-wellms-resources" aria-label="Permalink to &quot;Available Wellms resources:&quot;">â€‹</a></h3><ul><li>API <code>api.wellms.localhost</code></li><li>Front app <code>app.wellms.localhost</code></li><li>Admin panel <code>admin.wellms.localhost</code></li><li>Mailhog <code>mailhog.wellms.localhost</code></li></ul><h2 id="from-docker-container-images" tabindex="-1">From docker container images <a class="header-anchor" href="#from-docker-container-images" aria-label="Permalink to &quot;From docker container images&quot;">â€‹</a></h2><p>Below are instructions how to install Wellms from [<a href="https://hub.docker.com/search?q=escolalms" target="_blank" rel="noreferrer">https://hub.docker.com/search?q=escolalms</a>](<a href="https://github.com/EscolaLMS/Create-LMS-App/tree/main/docker" target="_blank" rel="noreferrer">https://github.com/EscolaLMS/Create-LMS-App/tree/main/docker</a> images) in various ways.</p><h3 id="requirements" tabindex="-1">Requirements <a class="header-anchor" href="#requirements" aria-label="Permalink to &quot;Requirements&quot;">â€‹</a></h3><ul><li>you have <code>docker</code> installed</li><li>port 80 is free</li></ul><h3 id="installation-from-script" tabindex="-1">Installation from script <a class="header-anchor" href="#installation-from-script" aria-label="Permalink to &quot;Installation from script&quot;">â€‹</a></h3><p>Run <code>npx --package=@escolalms/cla lms</code></p><h3 id="installation-from-source" tabindex="-1">Installation from source <a class="header-anchor" href="#installation-from-source" aria-label="Permalink to &quot;Installation from source&quot;">â€‹</a></h3><p>Clone this repository then,</p><p>in order to launch LMS</p><p>run <code>make init</code> shell script</p><h2 id="instalation-on-windows" tabindex="-1">Instalation on Windows <a class="header-anchor" href="#instalation-on-windows" aria-label="Permalink to &quot;Instalation on Windows&quot;">â€‹</a></h2><h3 id="requirements-1" tabindex="-1">Requirements <a class="header-anchor" href="#requirements-1" aria-label="Permalink to &quot;Requirements&quot;">â€‹</a></h3><ul><li><code>WSL</code> installed (<a href="https://docs.microsoft.com/en-us/windows/wsl/install" target="_blank" rel="noreferrer">https://docs.microsoft.com/en-us/windows/wsl/install</a>)</li><li><code>Docker</code> installed (<a href="https://docs.docker.com/desktop/windows/install/" target="_blank" rel="noreferrer">https://docs.docker.com/desktop/windows/install/</a>) and configured to use WSL</li><li><code>make</code> available in PowerShell (for example, you can install <code>Chocolatey</code> <a href="https://chocolatey.org/install" target="_blank" rel="noreferrer">https://chocolatey.org/install</a> and then install <code>make</code> using it)</li></ul><p><em>Recommended</em>: use Windows Terminal (<a href="https://apps.microsoft.com/store/detail/windows-terminal/" target="_blank" rel="noreferrer">https://apps.microsoft.com/store/detail/windows-terminal/</a>) and latest PowerShell (<a href="https://docs.microsoft.com/en-us/powershell/scripting/install/installing-powershell-on-windows?view=powershell-7.2" target="_blank" rel="noreferrer">https://docs.microsoft.com/en-us/powershell/scripting/install/installing-powershell-on-windows?view=powershell-7.2</a>)</p><h3 id="installation-from-source-1" tabindex="-1">Installation from source <a class="header-anchor" href="#installation-from-source-1" aria-label="Permalink to &quot;Installation from source&quot;">â€‹</a></h3><p>The <code>source</code> means source code of this repository, not the actual Wellms components. Tasks describes below will install docker containers.</p><ul><li>Clone this repository</li><li>Run <code>make init</code> in PowerShell (and not in WSL shell, because it will lead to problems with binding Postgres data volume for persistence)</li></ul><h2 id="first-steps" tabindex="-1">First steps <a class="header-anchor" href="#first-steps" aria-label="Permalink to &quot;First steps&quot;">â€‹</a></h2><p>Once everything is installed (takes a while)</p><ul><li><a href="http://api.wellms.localhost/api/documentation" target="_blank" rel="noreferrer">http://api.wellms.localhost/api/documentation</a> API Swagger documentation</li><li><a href="http://admin.wellms.localhost" target="_blank" rel="noreferrer">http://admin.wellms.localhost</a> admin panel credentials username: <a href="mailto:admin@escola-lms.com" target="_blank" rel="noreferrer">admin@escola-lms.com</a> password: secret</li><li><a href="http://app.wellms.localhost" target="_blank" rel="noreferrer">http://app.wellms.localhost</a> demo panel credentials username: <a href="mailto:student@escola-lms.com" target="_blank" rel="noreferrer">student@escola-lms.com</a> password: secret</li><li><a href="http://mailhog.wellms.localhost" target="_blank" rel="noreferrer">http://mailhog.wellms.localhost</a> demo panel credentials username: <a href="mailto:student@escola-lms.com" target="_blank" rel="noreferrer">student@escola-lms.com</a> password: secret</li></ul><h2 id="troubleshooting" tabindex="-1">Troubleshooting <a class="header-anchor" href="#troubleshooting" aria-label="Permalink to &quot;Troubleshooting&quot;">â€‹</a></h2><ul><li>please create issue in this repository</li><li>Windows users - this package is not tested on your system.</li></ul><h2 id="custom-domains" tabindex="-1">Custom domains <a class="header-anchor" href="#custom-domains" aria-label="Permalink to &quot;Custom domains&quot;">â€‹</a></h2><ul><li>Amends <a href="./Caddyfile.html">Caddyfile</a> referring to the <a href="https://caddyserver.com/docs/caddyfile" target="_blank" rel="noreferrer">official documentation</a></li></ul><p>there is a <code>credentials.sh</code> script to generate config files, example</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">APP_URL</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">https://api.escolalms.com</span><span style="color:#A6ACCD;"> ADMIN_URL</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">https://admin.escolalms.com</span><span style="color:#A6ACCD;"> FRONT_URL</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">https://demo.escolalms.com</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">./credentials.sh</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">MAILHOG_URL=https://mailhog.escolalms.com</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">REPORTBRO_URL=https://reportbro.escolalms.com</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">./credentials.sh</span></span></code></pre></div><h2 id="scaling-php-fpm-horizon-scheduler" tabindex="-1">Scaling php-fpm, Horizon &amp; Scheduler. <a class="header-anchor" href="#scaling-php-fpm-horizon-scheduler" aria-label="Permalink to &quot;Scaling php-fpm, Horizon &amp; Scheduler.&quot;">â€‹</a></h2><p>By default all 3 threads phpfpm, Laravels Horizon and Scheduler are severed by one <a href="https://github.com/EscolaLMS/API/blob/develop/Dockerfile" target="_blank" rel="noreferrer">image container</a></p><ul><li><code>php-fpm</code> serve main Laravel REST API (with <a href="https://github.com/EscolaLMS/API/tree/develop/docker/conf/nginx" target="_blank" rel="noreferrer">nginx</a> and <a href="https://github.com/EscolaLMS/Create-LMS-App/blob/main/Caddyfile" target="_blank" rel="noreferrer">caddy</a>)</li><li><a href="https://laravel.com/docs/9.x/horizon" target="_blank" rel="noreferrer"><code>horizon</code></a> is responsible for all <a href="https://laravel.com/docs/9.x/queues" target="_blank" rel="noreferrer">queue services</a></li><li><a href="https://laravel.com/docs/9.x/scheduling" target="_blank" rel="noreferrer"><code>Task Scheduling</code></a> is responsible for all cron jobs</li></ul><p>All of above including nginx are served by <code>supervisor</code>, definition files are <a href="https://github.com/EscolaLMS/API/tree/develop/docker/conf/supervisor" target="_blank" rel="noreferrer">listed here</a></p><p>You can scale this by setting each process into separate image container, just by amending <code>docker-compose.yml</code> in the following way</p><div class="language-yml"><button title="Copy Code" class="copy"></button><span class="lang">yml</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#F07178;">api</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">image</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">escolalms/api:latest</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">networks</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">escola_lms</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">volumes</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">./storage:/var/www/html/storage</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">./.env:/var/www/html/.env</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">environment</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">DISBALE_PHP_FPM=false</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">DISBALE_NGINX=false</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">DISBALE_HORIZON=true</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">DISBALE_SCHEDULER=true</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">horizon</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">image</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">escolalms/api:latest</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">networks</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">escola_lms</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">volumes</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">./storage:/var/www/html/storage</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">./.env:/var/www/html/.env</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">environment</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">DISBALE_PHP_FPM=true</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">DISBALE_NGINX=true</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">DISBALE_HORIZON=false</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">DISBALE_SCHEDULER=true</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">scheduler</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">image</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">escolalms/api:latest</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">networks</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">escola_lms</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">volumes</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">./storage:/var/www/html/storage</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">./.env:/var/www/html/.env</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">environment</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">DISBALE_PHP_FPM=true</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">DISBALE_NGINX=true</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">DISBALE_HORIZON=true</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">DISBALE_SCHEDULER=false</span></span></code></pre></div>`,75),p=[o];function t(r,c,i,D,C,y){return a(),l("div",null,p)}const A=s(n,[["render",t]]);export{d as __pageData,A as default};
