import{_ as t,o as e,c as s,V as a}from"./chunks/framework.c495fe11.js";const m=JSON.parse('{"title":"Assign-Without-Account","description":"","frontmatter":{},"headers":[],"relativePath":"packages/assign-without-account.md","filePath":"packages/assign-without-account.md"}'),o={name:"packages/assign-without-account.md"},n=a(`<h1 id="assign-without-account" tabindex="-1">Assign-Without-Account <a class="header-anchor" href="#assign-without-account" aria-label="Permalink to &quot;Assign-Without-Account&quot;">​</a></h1><p><a href="https://escolalms.github.io/AssignWithoutAccount/" target="_blank" rel="noreferrer"><img src="https://img.shields.io/badge/documentation-swagger-green" alt="swagger"></a><a href="https://codecov.io/gh/EscolaLMS/Assign-Without-Account" target="_blank" rel="noreferrer"><img src="https://codecov.io/gh/EscolaLMS/Assign-Without-Account/branch/main/graph/badge.svg?token=O91FHNKI6R" alt="codecov"></a><a href="https://github.com/EscolaLMS/Assign-Without-Account/actions/workflows/test.yml" target="_blank" rel="noreferrer"><img src="https://github.com/EscolaLMS/Assign-Without-Account/actions/workflows/test.yml/badge.svg" alt="Tests PHPUnit in environments"></a><a href="https://packagist.org/packages/escolalms/assign-without-account" target="_blank" rel="noreferrer"><img src="https://img.shields.io/packagist/dt/escolalms/assign-without-account" alt="downloads"></a><a href="https://packagist.org/packages/escolalms/assign-without-account" target="_blank" rel="noreferrer"><img src="https://img.shields.io/packagist/v/escolalms/assign-without-account" alt="downloads"></a><a href="https://packagist.org/packages/escolalms/assign-without-account" target="_blank" rel="noreferrer"><img src="https://img.shields.io/packagist/l/escolalms/assign-without-account" alt="downloads"></a></p><h2 id="what-does-it-do" tabindex="-1">What does it do <a class="header-anchor" href="#what-does-it-do" aria-label="Permalink to &quot;What does it do&quot;">​</a></h2><p>The package is used to assign users without an account.</p><h2 id="installing" tabindex="-1">Installing <a class="header-anchor" href="#installing" aria-label="Permalink to &quot;Installing&quot;">​</a></h2><ul><li><code>composer require escolalms/assing-without-account</code></li><li><code>php artisan migrate</code></li><li><code>php artisan db:seed --class=&quot;EscolaLms\\AssignWithoutAccount\\Database\\Seeders\\AssignWitoutAccountPermissionSeeder&quot;</code></li></ul><h2 id="requirements" tabindex="-1">Requirements <a class="header-anchor" href="#requirements" aria-label="Permalink to &quot;Requirements&quot;">​</a></h2><p>You need to define email templates in the <code>Templates</code> package for <code>AssignToProduct</code> and <code>AssignToProductable</code> events.</p><h2 id="database" tabindex="-1">Database <a class="header-anchor" href="#database" aria-label="Permalink to &quot;Database&quot;">​</a></h2><ol><li><code>user-submissions</code></li></ol><table><thead><tr><th style="text-align:left;">id</th><th style="text-align:left;">email</th><th style="text-align:left;">status</th><th style="text-align:left;">created_at</th><th style="text-align:left;">updated_at</th><th style="text-align:left;">morphable_type</th><th style="text-align:left;">morphable_id</th></tr></thead><tbody><tr><td style="text-align:left;">1</td><td style="text-align:left;"><a href="mailto:test@email.com" target="_blank" rel="noreferrer">test@email.com</a></td><td style="text-align:left;">sent</td><td style="text-align:left;">2022-04-15 07:36:12</td><td style="text-align:left;">2022-04-15 07:36:12</td><td style="text-align:left;">App\\Models\\Course</td><td style="text-align:left;">1</td></tr><tr><td style="text-align:left;">2</td><td style="text-align:left;"><a href="mailto:test@email.com" target="_blank" rel="noreferrer">test@email.com</a></td><td style="text-align:left;">accepted</td><td style="text-align:left;">2022-04-15 07:36:30</td><td style="text-align:left;">2022-04-15 07:36:30</td><td style="text-align:left;">EscolaLms\\Cart\\Models\\Product</td><td style="text-align:left;">2</td></tr></tbody></table><h2 id="example" tabindex="-1">Example <a class="header-anchor" href="#example" aria-label="Permalink to &quot;Example&quot;">​</a></h2><ol><li>Create user submission like this:</li></ol><div class="language-http"><button title="Copy Code" class="copy"></button><span class="lang">http</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">POST</span><span style="color:#A6ACCD;"> /api/admin/user-submissions</span></span></code></pre></div><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">email</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">test@email.com</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">morphable_id</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">morphable_type</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">EscolaLms</span><span style="color:#A6ACCD;">\\\\</span><span style="color:#C3E88D;">Cart</span><span style="color:#A6ACCD;">\\\\</span><span style="color:#C3E88D;">Models</span><span style="color:#A6ACCD;">\\\\</span><span style="color:#C3E88D;">Product</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div><ol start="2"><li>Create a new account.</li><li>The product is assigned to your account.</li></ol><h2 id="endpoints" tabindex="-1">Endpoints <a class="header-anchor" href="#endpoints" aria-label="Permalink to &quot;Endpoints&quot;">​</a></h2><p>All the endpoints are defined in swagger <a href="https://escolalms.github.io/AssignWithoutAccount/" target="_blank" rel="noreferrer"><img src="https://img.shields.io/badge/documentation-swagger-green" alt="swagger"></a></p><h2 id="tests" tabindex="-1">Tests <a class="header-anchor" href="#tests" aria-label="Permalink to &quot;Tests&quot;">​</a></h2><p>Run <code>./vendor/bin/phpunit</code> to run tests. See <a href="https://github.com/EscolaLMS/Assign-Without-Account/tree/main/tests" target="_blank" rel="noreferrer">tests</a> folder as it&#39;s quite good staring point as documentation appendix.</p><p>Test details <a href="https://codecov.io/gh/EscolaLMS/Assign-Without-Account" target="_blank" rel="noreferrer"><img src="https://codecov.io/gh/EscolaLMS/Assign-Without-Account/branch/main/graph/badge.svg?token=O91FHNKI6R" alt="codecov"></a><img src="https://github.com/EscolaLMS/Assign-Without-Account/actions/workflows/test.yml/badge.svg" alt="Tests PHPUnit in environments"></p><h2 id="events" tabindex="-1">Events <a class="header-anchor" href="#events" aria-label="Permalink to &quot;Events&quot;">​</a></h2><ol><li><code>AssignToProduct</code> - event dispatched after assigning user to product.</li><li><code>AssignToProductable</code> - event dispatched after assigning user to productable model.</li></ol><h2 id="listeners" tabindex="-1">Listeners <a class="header-anchor" href="#listeners" aria-label="Permalink to &quot;Listeners&quot;">​</a></h2><ol><li><code>AccountRegisteredListener</code> - listens to newly created accounts.</li></ol><h2 id="how-to-use-this-on-frontend" tabindex="-1">How to use this on frontend. <a class="header-anchor" href="#how-to-use-this-on-frontend" aria-label="Permalink to &quot;How to use this on frontend.&quot;">​</a></h2><h3 id="admin-panel" tabindex="-1">Admin panel <a class="header-anchor" href="#admin-panel" aria-label="Permalink to &quot;Admin panel&quot;">​</a></h3><p><strong>List of user submissions</strong><img src="https://raw.githubusercontent.com/EscolaLMS/Assign-Without-Account/main/docs/list.png" alt="List of stationary events" title="List of user submissions"></p><h2 id="permissions" tabindex="-1">Permissions <a class="header-anchor" href="#permissions" aria-label="Permalink to &quot;Permissions&quot;">​</a></h2><p>Permissions are defined in <a href="https://github.com/EscolaLMS/Assign-Without-Account/tree/main/database/seeders/AssignWithoutAccountPermissionSeeder.php" target="_blank" rel="noreferrer">seeder</a></p>`,30),l=[n];function i(r,c,d,p,h,u){return e(),s("div",null,l)}const f=t(o,[["render",i]]);export{m as __pageData,f as default};
