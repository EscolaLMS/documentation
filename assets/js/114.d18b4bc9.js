(window.webpackJsonp=window.webpackJsonp||[]).push([[114],{541:function(t,e,s){"use strict";s.r(e);var a=s(65),r=Object(a.a)({},(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"vouchers"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#vouchers"}},[t._v("#")]),t._v(" Vouchers")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://escolalms.github.io/Vouchers/",target:"_blank",rel:"noopener noreferrer"}},[s("img",{attrs:{src:"https://img.shields.io/badge/documentation-swagger-green",alt:"swagger"}}),s("OutboundLink")],1),t._v(" "),s("a",{attrs:{href:"https://codecov.io/gh/EscolaLMS/Vouchers",target:"_blank",rel:"noopener noreferrer"}},[s("img",{attrs:{src:"https://codecov.io/gh/EscolaLMS/Vouchers/branch/main/graph/badge.svg?token=NRAN4R8AGZ",alt:"codecov"}}),s("OutboundLink")],1),t._v(" "),s("a",{attrs:{href:"https://github.com/EscolaLMS/Vouchers/actions/workflows/test.yml",target:"_blank",rel:"noopener noreferrer"}},[s("img",{attrs:{src:"https://github.com/EscolaLMS/Vouchers/actions/workflows/test.yml/badge.svg",alt:"phpunit"}}),s("OutboundLink")],1),t._v(" "),s("a",{attrs:{href:"https://packagist.org/packages/escolalms/vouchers",target:"_blank",rel:"noopener noreferrer"}},[s("img",{attrs:{src:"https://img.shields.io/packagist/dt/escolalms/vouchers",alt:"downloads"}}),s("OutboundLink")],1),t._v(" "),s("a",{attrs:{href:"https://packagist.org/packages/escolalms/vouchers",target:"_blank",rel:"noopener noreferrer"}},[s("img",{attrs:{src:"https://img.shields.io/packagist/v/escolalms/vouchers",alt:"downloads"}}),s("OutboundLink")],1),t._v(" "),s("a",{attrs:{href:"https://packagist.org/packages/escolalms/vouchers",target:"_blank",rel:"noopener noreferrer"}},[s("img",{attrs:{src:"https://img.shields.io/packagist/l/escolalms/vouchers",alt:"downloads"}}),s("OutboundLink")],1),t._v(" "),s("a",{attrs:{href:"https://codeclimate.com/github/EscolaLMS/Vouchers/maintainability",target:"_blank",rel:"noopener noreferrer"}},[s("img",{attrs:{src:"https://api.codeclimate.com/v1/badges/b8c8aa16976961f670b4/maintainability",alt:"Maintainability"}}),s("OutboundLink")],1)]),t._v(" "),s("h2",{attrs:{id:"purpose"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#purpose"}},[t._v("#")]),t._v(" Purpose")]),t._v(" "),s("p",[t._v("This package lets you define Coupons that can be applied to User Cart before placing an Order, calculating a discount depending on multiple different, configurable rules.")]),t._v(" "),s("h2",{attrs:{id:"installation"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#installation"}},[t._v("#")]),t._v(" Installation")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("composer require escolalms/vouchers")])]),t._v(" "),s("li",[s("code",[t._v("php artisan migrate")])]),t._v(" "),s("li",[s("code",[t._v('php artisan db:seed --class="EscolaLms\\Vouchers\\Database\\Seeders\\VoucherPermissionsSeeder"')])])]),t._v(" "),s("h2",{attrs:{id:"dependencies"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#dependencies"}},[t._v("#")]),t._v(" Dependencies")]),t._v(" "),s("p",[t._v("This package depends (and extends) on "),s("a",{attrs:{href:"https://github.com/EscolaLMS/Cart",target:"_blank",rel:"noopener noreferrer"}},[t._v("EscolaLms/Cart"),s("OutboundLink")],1),t._v(" package and can not be used separately.")]),t._v(" "),s("h2",{attrs:{id:"usage"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#usage"}},[t._v("#")]),t._v(" Usage")]),t._v(" "),s("h3",{attrs:{id:"coupon-rules"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#coupon-rules"}},[t._v("#")]),t._v(" Coupon rules")]),t._v(" "),s("p",[t._v("Every coupon defines set of rules that are checked when User tries to add Coupon to Cart.\nOnly if all conditions are met, coupon (discount) can be applied to given Cart content.\nSome of the conditions work differently depending on type of coupon.")]),t._v(" "),s("ul",[s("li",[s("strong",[t._v("Min/max amount")]),t._v(' - cart value must be at least "min" amount, and if cart value is above "max" amount, discount is only calculated as if value was at the "max" level')]),t._v(" "),s("li",[s("strong",[t._v("Usage limits")]),t._v(" - coupons can not be used after their global or per user limits are reached")]),t._v(" "),s("li",[s("strong",[t._v("Exclude promotions")]),t._v(" - coupon can not be used if products with already discounted price are in the Cart")])]),t._v(" "),s("h3",{attrs:{id:"types-of-coupon"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#types-of-coupon"}},[t._v("#")]),t._v(" Types of coupon")]),t._v(" "),s("p",[t._v("This package defines four type of discounts, that represent four separate strategies for calculating discount.\nThere are two types that relate to whole Cart and two types that relate to specified Products.")]),t._v(" "),s("h4",{attrs:{id:"fixed-cart-amount-coupon"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#fixed-cart-amount-coupon"}},[t._v("#")]),t._v(" "),s("strong",[t._v("Fixed Cart amount coupon")])]),t._v(" "),s("p",[t._v("Coupon of type "),s("code",[t._v("EscolaLms\\Vouchers\\Enums::CART_FIXED")]),t._v(" substracts constant amount from total price of Cart. See "),s("a",{attrs:{href:"src/Strategies/CartFixedDiscountStrategy.php"}},[s("code",[t._v("EscolaLms\\Vouchers\\Strategies\\CartFixedDiscountStrategy")])]),t._v(".")]),t._v(" "),s("ul",[s("li",[t._v('At least one of "included products" must be in Cart')]),t._v(" "),s("li",[t._v('None of "excluded products" must be in Cart')]),t._v(" "),s("li",[t._v('At least one of "included categories" must be in Cart')]),t._v(" "),s("li",[t._v('None of "exclude categories" must be in Cart')])]),t._v(" "),s("h4",{attrs:{id:"percent-cart-amount-coupon"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#percent-cart-amount-coupon"}},[t._v("#")]),t._v(" "),s("strong",[t._v("Percent Cart amount coupon")])]),t._v(" "),s("p",[t._v("Coupon of type "),s("code",[t._v("EscolaLms\\Vouchers\\Enums::CART_PERCENT")]),t._v(' substracts percentage based amount from total price of Cart, but only for Products not in "excluded products" or "excluded categories" list. See '),s("a",{attrs:{href:"src/Strategies/CartPercentDiscountStrategy.php"}},[s("code",[t._v("EscolaLms\\Vouchers\\Strategies\\CartPercentDiscountStrategy")])]),t._v(".")]),t._v(" "),s("ul",[s("li",[t._v('At least one of "included products" must be in Cart')]),t._v(" "),s("li",[t._v('At least one of "included categories" must be in Cart')])]),t._v(" "),s("h4",{attrs:{id:"fixed-product-coupon"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#fixed-product-coupon"}},[t._v("#")]),t._v(" "),s("strong",[t._v("Fixed Product coupon")])]),t._v(" "),s("p",[t._v("Coupon of type "),s("code",[t._v("EscolaLms\\Vouchers\\Enums::PRODUCT_FIXED")]),t._v(' substracts constant amount from Product price, but only once per unique Product. Product must be specified in "included products". See '),s("a",{attrs:{href:"src/Strategies/ProductFixedDiscountStrategy.php"}},[s("code",[t._v("EscolaLms\\Vouchers\\Strategies\\ProductFixedDiscountStrategy")])]),t._v(".")]),t._v(" "),s("h4",{attrs:{id:"percent-product-coupon"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#percent-product-coupon"}},[t._v("#")]),t._v(" "),s("strong",[t._v("Percent Product coupon")])]),t._v(" "),s("p",[t._v("Coupon of type "),s("code",[t._v("EscolaLms\\Vouchers\\Enums::PRODUCT_FIXED")]),t._v(' substracts percentage based amount from Product price. Product must be specified in "included products". See '),s("a",{attrs:{href:"src/Strategies/ProductPercentDiscountStrategy.php"}},[s("code",[t._v("EscolaLms\\Vouchers\\Strategies\\ProductPercentDiscountStrategy")])]),t._v(".")]),t._v(" "),s("h3",{attrs:{id:"how-to-use-coupon"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#how-to-use-coupon"}},[t._v("#")]),t._v(" How to use Coupon")]),t._v(" "),s("p",[t._v("Coupon can be added to Cart using "),s("code",[t._v("POST /api/cart/voucher/")]),t._v(" endpoint.")]),t._v(" "),s("h2",{attrs:{id:"endpoints"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#endpoints"}},[t._v("#")]),t._v(" Endpoints")]),t._v(" "),s("p",[t._v("All the endpoints are defined in "),s("a",{attrs:{href:"https://escolalms.github.io/vouchers/",target:"_blank",rel:"noopener noreferrer"}},[s("img",{attrs:{src:"https://img.shields.io/badge/documentation-swagger-green",alt:"swagger"}}),s("OutboundLink")],1),t._v(".")]),t._v(" "),s("h2",{attrs:{id:"tests"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#tests"}},[t._v("#")]),t._v(" Tests")]),t._v(" "),s("p",[t._v("Run "),s("code",[t._v("./vendor/bin/phpunit")]),t._v(" to run tests. See "),s("a",{attrs:{href:"tests"}},[t._v("tests")]),t._v(" directory.")]),t._v(" "),s("p",[t._v("Test details "),s("a",{attrs:{href:"https://codecov.io/gh/EscolaLMS/vouchers",target:"_blank",rel:"noopener noreferrer"}},[s("img",{attrs:{src:"https://codecov.io/gh/EscolaLMS/Vouchers/branch/main/graph/badge.svg?token=NRAN4R8AGZ",alt:"codecov"}}),s("OutboundLink")],1),t._v(" "),s("a",{attrs:{href:"https://github.com/EscolaLMS/vouchers/actions/workflows/test.yml",target:"_blank",rel:"noopener noreferrer"}},[s("img",{attrs:{src:"https://github.com/EscolaLMS/Vouchers/actions/workflows/test.yml/badge.svg",alt:"phpunit"}}),s("OutboundLink")],1)]),t._v(" "),s("h2",{attrs:{id:"events"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#events"}},[t._v("#")]),t._v(" Events")]),t._v(" "),s("p",[t._v("There are no events emitted by this package.")]),t._v(" "),s("h2",{attrs:{id:"listeners"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#listeners"}},[t._v("#")]),t._v(" Listeners")]),t._v(" "),s("p",[t._v("There are no listeners specified in this package.")]),t._v(" "),s("h2",{attrs:{id:"how-to-use-this-on-frontend"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#how-to-use-this-on-frontend"}},[t._v("#")]),t._v(" How to use this on frontend")]),t._v(" "),s("h3",{attrs:{id:"admin-panel"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#admin-panel"}},[t._v("#")]),t._v(" Admin panel")]),t._v(" "),s("h4",{attrs:{id:"menu"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#menu"}},[t._v("#")]),t._v(" "),s("strong",[t._v("Menu")])]),t._v(" "),s("p",[s("img",{attrs:{src:"docs/vouchers/menu.png",alt:"Menu",title:"Menu"}})]),t._v(" "),s("h4",{attrs:{id:"list-of-coupons"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#list-of-coupons"}},[t._v("#")]),t._v(" "),s("strong",[t._v("List of Coupons")])]),t._v(" "),s("p",[s("img",{attrs:{src:"docs/vouchers/list.png",alt:"List of Coupons",title:"List of Coupons"}})]),t._v(" "),s("h4",{attrs:{id:"creating-editing-coupon"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#creating-editing-coupon"}},[t._v("#")]),t._v(" "),s("strong",[t._v("Creating/editing Coupon")])]),t._v(" "),s("p",[s("img",{attrs:{src:"docs/vouchers/edit.png",alt:"Creating/editing Coupon",title:"Creating/editing Coupon"}})]),t._v(" "),s("h2",{attrs:{id:"permissions"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#permissions"}},[t._v("#")]),t._v(" Permissions")]),t._v(" "),s("p",[t._v("Permissions are defined in "),s("a",{attrs:{href:"https://github.com/EscolaLMS/Vouchers/blob/main/src/Enums/VoucherPermissionsEnum.php",target:"_blank",rel:"noopener noreferrer"}},[t._v("Enum"),s("OutboundLink")],1),t._v(" and seeded in "),s("a",{attrs:{href:"https://github.com/EscolaLMS/Vouchers/blob/main/database/seeders/VoucherPermissionsSeeder.php",target:"_blank",rel:"noopener noreferrer"}},[t._v("Seeder"),s("OutboundLink")],1),t._v(".")]),t._v(" "),s("h2",{attrs:{id:"roadmap-todo-troubleshooting"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#roadmap-todo-troubleshooting"}},[t._v("#")]),t._v(" Roadmap. Todo. Troubleshooting")]),t._v(" "),s("ul",[s("li",[t._v("endpoint for removing Coupon from Cart")])])])}),[],!1,null,null,null);e.default=r.exports}}]);