(window.webpackJsonp=window.webpackJsonp||[]).push([[125],{418:function(t,s,e){"use strict";e.r(s);var n=e(10),a=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"💩-typescript-jest-error-with-antdesign-pro-💩"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#💩-typescript-jest-error-with-antdesign-pro-💩"}},[t._v("#")]),t._v(" 💩 Typescript/Jest error with AntDesign.Pro 💩")]),t._v(" "),s("blockquote",[s("p",[t._v("Jest does not support esm modules, and Ant Design uses them.")])]),t._v(" "),s("p",[s("a",{attrs:{href:"https://ant.design/docs/react/use-with-create-react-app#Test-with-Jest",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://ant.design/docs/react/use-with-create-react-app#Test-with-Jest"),s("OutboundLink")],1)]),t._v(" "),s("h2",{attrs:{id:"duplicating-the-issue"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#duplicating-the-issue"}},[t._v("#")]),t._v(" Duplicating THE issue")]),t._v(" "),s("p",[t._v("See current status "),s("a",{attrs:{href:"https://github.com/EscolaLMS/Ant-Design-Jest-Issue/actions/workflows/unit.yml",target:"_blank",rel:"noopener noreferrer"}},[s("img",{attrs:{src:"https://github.com/EscolaLMS/Ant-Design-Jest-Issue/actions/workflows/unit.yml/badge.svg",alt:"jest unit test"}}),s("OutboundLink")],1)]),t._v(" "),s("p",[t._v("Run "),s("code",[t._v("yarn test")]),t._v(" that gets you into")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("FAIL  src/components/not-working/index.test.tsx\n  ● Test suite failed to run\n\n    Jest encountered an unexpected token\n\n    This usually means that you are trying to "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("import")]),t._v(" a "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("file")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("which")]),t._v(" Jest cannot parse, e.g. it"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'s not plain JavaScript.\n\n    By default, if Jest sees a Babel config, it will use that to transform your files, ignoring \"node_modules\".\n\n    Here'")]),t._v("s what you can do:\n     • If you are trying to use ECMAScript Modules, see https://jestjs.io/docs/en/ecmascript-modules "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" how to "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("enable")]),t._v(" it.\n     • To have some of your "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"node_modules"')]),t._v(" files transformed, you can specify a custom "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"transformIgnorePatterns"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" your config.\n     • If you need a custom transformation specify a "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"transform"')]),t._v(" option "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" your config.\n     • If you simply want to mock your non-JS modules "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("e.g. binary assets"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" you can stub them out with the "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"moduleNameMapper"')]),t._v(" config option.\n\n    You"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ll find more details and examples of these config options in the docs:\n    https://jestjs.io/docs/en/configuration.html\n\n    Details:\n\n    /Users/qunabu/Desktop/localhost/escola-lms/ts-antd-jest-issue/node_modules/antd/es/layout/style/index.js:1\n    ({\"Object.<anonymous>\":function(module,exports,require,__dirname,__filename,global,jest){import '")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v("/"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v("/style/index.less'"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                                                                                             ^^^^^^\n\n    SyntaxError: Cannot use "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("import")]),t._v(" statement outside a module\n\n      at Runtime.createScriptFromCode "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("node_modules/jest-runtime/build/index.js:1350:14"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("h1",{attrs:{id:"😒-💩-😒-💩-😒-💩-😒-💩-😒-💩-😒-💩"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#😒-💩-😒-💩-😒-💩-😒-💩-😒-💩-😒-💩"}},[t._v("#")]),t._v(" 😒 💩 😒 💩 😒 💩 😒 💩 😒 💩 😒 💩")]),t._v(" "),s("h2",{attrs:{id:"solution"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#solution"}},[t._v("#")]),t._v(" Solution")]),t._v(" "),s("ul",[s("li",[t._v("fix this to work with "),s("code",[t._v("jest")])]),t._v(" "),s("li",[t._v("find other js testing framework that generates covarage reports")]),t._v(" "),s("li",[t._v("all above is just for unit and integraion tests (e2e are fine)")])])])}),[],!1,null,null,null);s.default=a.exports}}]);