(window.webpackJsonp=window.webpackJsonp||[]).push([[229],{641:function(s,e,t){"use strict";t.r(e);var a=t(62),r=Object(a.a)({},(function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"courses"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#courses"}},[s._v("#")]),s._v(" Courses")]),s._v(" "),t("p",[s._v("Courses and content package")]),s._v(" "),t("p",[t("a",{attrs:{href:"https://escolalms.github.io/Courses/",target:"_blank",rel:"noopener noreferrer"}},[t("img",{attrs:{src:"https://img.shields.io/badge/documentation-swagger-green",alt:"swagger"}}),t("OutboundLink")],1),s._v(" "),t("a",{attrs:{href:"https://codecov.io/gh/EscolaLMS/Courses",target:"_blank",rel:"noopener noreferrer"}},[t("img",{attrs:{src:"https://codecov.io/gh/EscolaLMS/Courses/branch/main/graph/badge.svg?token=NRAN4R8AGZ",alt:"codecov"}}),t("OutboundLink")],1),s._v(" "),t("a",{attrs:{href:"https://github.com/EscolaLMS/Courses/actions/workflows/test.yml",target:"_blank",rel:"noopener noreferrer"}},[t("img",{attrs:{src:"https://github.com/EscolaLMS/Courses/actions/workflows/test.yml/badge.svg",alt:"phpunit"}}),t("OutboundLink")],1),s._v(" "),t("a",{attrs:{href:"https://packagist.org/packages/escolalms/courses",target:"_blank",rel:"noopener noreferrer"}},[t("img",{attrs:{src:"https://img.shields.io/packagist/dt/escolalms/courses",alt:"downloads"}}),t("OutboundLink")],1),s._v(" "),t("a",{attrs:{href:"https://packagist.org/packages/escolalms/courses",target:"_blank",rel:"noopener noreferrer"}},[t("img",{attrs:{src:"https://img.shields.io/packagist/v/escolalms/courses",alt:"downloads"}}),t("OutboundLink")],1),s._v(" "),t("a",{attrs:{href:"https://packagist.org/packages/escolalms/courses",target:"_blank",rel:"noopener noreferrer"}},[t("img",{attrs:{src:"https://img.shields.io/packagist/l/escolalms/courses",alt:"downloads"}}),t("OutboundLink")],1),s._v(" "),t("a",{attrs:{href:"https://codeclimate.com/github/EscolaLMS/Courses/maintainability",target:"_blank",rel:"noopener noreferrer"}},[t("img",{attrs:{src:"https://api.codeclimate.com/v1/badges/0c9e2593fb30e2048f95/maintainability",alt:"Maintainability"}}),t("OutboundLink")],1)]),s._v(" "),t("h2",{attrs:{id:"what-does-it-do"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#what-does-it-do"}},[s._v("#")]),s._v(" What does it do")]),s._v(" "),t("p",[s._v("This package is used for creating Course for EscolaLms.")]),s._v(" "),t("h2",{attrs:{id:"installing"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#installing"}},[s._v("#")]),s._v(" Installing")]),s._v(" "),t("ul",[t("li",[t("code",[s._v("composer require escolalms/courses")])]),s._v(" "),t("li",[t("code",[s._v("php artisan migrate")])]),s._v(" "),t("li",[t("code",[s._v('php artisan db:seed --class="EscolaLms\\Courses\\Database\\Seeders\\CoursesPermissionSeeder"')])])]),s._v(" "),t("h2",{attrs:{id:"schedule"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#schedule"}},[s._v("#")]),s._v(" Schedule")]),s._v(" "),t("ul",[t("li",[s._v("Schedules are available in ScheduleServiceProvider\n"),t("ul",[t("li",[t("code",[s._v("$schedule->job(CheckForDeadlines::class)->hourly()")]),s._v(" - executed every hours")]),s._v(" "),t("li",[t("code",[s._v("$schedule->job(ActivateCourseJob::class)->daily()")]),s._v(" - executed every days")])])])]),s._v(" "),t("h2",{attrs:{id:"endpoints"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#endpoints"}},[s._v("#")]),s._v(" Endpoints")]),s._v(" "),t("p",[s._v("All the endpoints are defined in "),t("a",{attrs:{href:"https://escolalms.github.io/Courses/",target:"_blank",rel:"noopener noreferrer"}},[t("img",{attrs:{src:"https://img.shields.io/badge/documentation-swagger-green",alt:"swagger"}}),t("OutboundLink")],1)]),s._v(" "),t("h2",{attrs:{id:"tests"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#tests"}},[s._v("#")]),s._v(" Tests")]),s._v(" "),t("p",[s._v("Run "),t("code",[s._v("./vendor/bin/phpunit --filter 'EscolaLms\\\\Courses\\\\Tests'")]),s._v(" to run tests. See "),t("a",{attrs:{href:"tests"}},[s._v("tests")]),s._v(" folder as it's quite good staring point as documentation appendix.")]),s._v(" "),t("h2",{attrs:{id:"events"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#events"}},[s._v("#")]),s._v(" Events")]),s._v(" "),t("ul",[t("li",[t("code",[s._v("EscolaLms\\Courses\\Events\\CourseAccessFinished")]),s._v(" => Event is dispatched when users lost access to course.")]),s._v(" "),t("li",[t("code",[s._v("EscolaLms\\Courses\\Events\\CourseAccessStarted")]),s._v(" => Event is dispatched when users received access to course.")]),s._v(" "),t("li",[t("code",[s._v("EscolaLms\\Courses\\Events\\CourseAssigned")]),s._v(" => Event is dispatched when admin assigned access user.")]),s._v(" "),t("li",[t("code",[s._v("EscolaLms\\Courses\\Events\\CourseDeadlineSoon")]),s._v(" => Event is dispatched when course deadline is coming out.")]),s._v(" "),t("li",[t("code",[s._v("EscolaLms\\Courses\\Events\\CoursedPublished")]),s._v(" => Event is dispatched when course is published.")]),s._v(" "),t("li",[t("code",[s._v("EscolaLms\\Courses\\Events\\CourseFinished")]),s._v(" => Event is dispatched when course is ended.")]),s._v(" "),t("li",[t("code",[s._v("EscolaLms\\Courses\\Events\\CourseStarted")]),s._v(" => Event is dispatched when course is started.")]),s._v(" "),t("li",[t("code",[s._v("EscolaLms\\Courses\\Events\\CourseStatusChanged")]),s._v(" => Event is dispatched when course has a status change.")]),s._v(" "),t("li",[t("code",[s._v("EscolaLms\\Courses\\Events\\CourseTutorAssigned")]),s._v(" => Event is dispatched when tutor is assigned to course.")]),s._v(" "),t("li",[t("code",[s._v("EscolaLms\\Courses\\Events\\CourseTutorUnassigned")]),s._v(" => Event is dispatched when tutor is unassigned to course.")]),s._v(" "),t("li",[t("code",[s._v("EscolaLms\\Courses\\Events\\CourseUnassigned")]),s._v(" => Event is dispatched when user is unassigned to course.")]),s._v(" "),t("li",[t("code",[s._v("EscolaLms\\Courses\\Events\\TopicFinished")]),s._v(" => Event is dispatched when course topic is finished.")])]),s._v(" "),t("h3",{attrs:{id:"admin-panel"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#admin-panel"}},[s._v("#")]),s._v(" Admin panel")]),s._v(" "),t("p",[t("strong",[s._v("Left menu")])]),s._v(" "),t("p",[t("img",{attrs:{src:"docs/courses/menu_course.png",alt:"Menu",title:"Menu"}})]),s._v(" "),t("p",[t("strong",[s._v("List of courses")])]),s._v(" "),t("p",[t("img",{attrs:{src:"docs/courses/list_courses.png",alt:"List of courses",title:"List of courses"}})]),s._v(" "),t("p",[t("strong",[s._v("Creating/editing course")])]),s._v(" "),t("p",[t("img",{attrs:{src:"docs/courses/create_course.png",alt:"Creating/editing course",title:"Creating or editing course"}})]),s._v(" "),t("h2",{attrs:{id:"permissions"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#permissions"}},[s._v("#")]),s._v(" Permissions")]),s._v(" "),t("p",[s._v("Permissions are defined in "),t("a",{attrs:{href:"vendor/escolalms/courses/database/seeders/CoursesPermissionSeeder.php"}},[s._v("seeder")])]),s._v(" "),t("h2",{attrs:{id:"model-relation"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#model-relation"}},[s._v("#")]),s._v(" Model relation")]),s._v(" "),t("p",[s._v("The model user must be extended with the class HasCourses :")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("class User extends EscolaLms\\Core\\Models\\User\n{\n    use HasCourses;\n")])])]),t("h2",{attrs:{id:"database-relation"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#database-relation"}},[s._v("#")]),s._v(" Database relation")]),s._v(" "),t("p",[s._v("There is simple relation. "),t("a",{attrs:{href:"doc"}},[s._v("see docs for diagram")])]),s._v(" "),t("ol",[t("li",[t("code",[s._v("Course")]),s._v(" general category of the course")]),s._v(" "),t("li",[t("code",[s._v("Lesson")]),s._v(" grouped by Course")]),s._v(" "),t("li",[t("code",[s._v("Topic")]),s._v(" grouped by Lesson")])]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("Course 1 -> n Lesson\nLesson 1 -> n Topic\nTopic 1 -> 1 TopicContent\n")])])]),t("p",[t("code",[s._v("TopicContent")]),s._v(" is an abstract model, this package contains some sample implementatio eg, "),t("code",[s._v("RichText")]),s._v(", "),t("code",[s._v("Audio")]),s._v(", "),t("code",[s._v("Video")]),s._v(", "),t("code",[s._v("H5P")]),s._v(" and "),t("code",[s._v("Image")])]),s._v(" "),t("p",[s._v("You create any of the Content model by post to the same Topic endponit (create and update), "),t("a",{attrs:{href:"doc"}},[s._v("see docs examples")])]),s._v(" "),t("p",[t("strong",[s._v("Note")]),s._v(" that "),t("code",[s._v("/api/topics")]),s._v(" is using "),t("code",[s._v("form-data")]),s._v(" - this is due to PHP nature of posting files")]),s._v(" "),t("p",[s._v("List of possible "),t("code",[s._v("TopicContent")]),s._v("s is availabe in the endpoint "),t("code",[s._v("/api/topics/types")])]),s._v(" "),t("h2",{attrs:{id:"curriculum-sylabus-program"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#curriculum-sylabus-program"}},[s._v("#")]),s._v(" Curriculum/Sylabus/Program")]),s._v(" "),t("p",[s._v("App user access the course by fetching "),t("code",[s._v("GET /api/courses/{id}/program")]),s._v(" endpoint. This is after user purchase or has other access to the course. this endpoints renders tree of Course, Lessons, Topic with Contents essential to render whole course.")]),s._v(" "),t("h2",{attrs:{id:"adding-new-topiccontent-type"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#adding-new-topiccontent-type"}},[s._v("#")]),s._v(" Adding new "),t("code",[s._v("TopicContent")]),s._v(" type")]),s._v(" "),t("p",[s._v("In the ServiceProvider register your class like")]),s._v(" "),t("div",{staticClass:"language-php extra-class"},[t("pre",{pre:!0,attrs:{class:"language-php"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("use")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token package"}},[s._v("Illuminate"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Support"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("ServiceProvider")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("use")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token package"}},[s._v("EscolaLms"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Courses"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Facades"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Topic")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name-definition class-name"}},[s._v("CustomServiceProvider")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("extends")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ServiceProvider")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//...")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function-definition function"}},[s._v("register")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token class-name static-context"}},[s._v("Topic")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("::")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("registerContentClass")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name static-context"}},[s._v("TopicContentCustom")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("::")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// or")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token class-name static-context"}},[s._v("Topic")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("::")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("registerContentClasses")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token class-name static-context"}},[s._v("TopicContentCustom")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("::")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name static-context"}},[s._v("TopicAnotherContentCustom")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("::")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// also register JSON Resource for a type")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token class-name static-context"}},[s._v("Topic")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("::")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("registerResourceClasses")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name static-context"}},[s._v("Audio")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("::")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'client'")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name static-context"}},[s._v("ClientAudioResource")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("::")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'admin'")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name static-context"}},[s._v("AdminAudioResource")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("::")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'export'")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name static-context"}},[s._v("ExportAudioResource")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("::")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),t("p",[s._v("see "),t("a",{attrs:{href:"src/EscolaLmsCourseServiceProvider.php"}},[s._v("EscolaLmsCourseServiceProvider.php")]),s._v(" as reference as well as "),t("a",{attrs:{href:"package2/src/Models/TopicContent"}},[s._v("Models/TopicContent")])]),s._v(" "),t("h3",{attrs:{id:"content"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#content"}},[s._v("#")]),s._v(" Content")]),s._v(" "),t("p",[s._v("Package comes with seeder that create course with lessons and topics")]),s._v(" "),t("div",{staticClass:"language-php extra-class"},[t("pre",{pre:!0,attrs:{class:"language-php"}},[t("code",[s._v("php artisan db"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("seed "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string double-quoted-string"}},[s._v('"\\EscolaLms\\Courses\\Database\\Seeders\\CoursesSeeder"')]),s._v("\n")])])])])}),[],!1,null,null,null);e.default=r.exports}}]);