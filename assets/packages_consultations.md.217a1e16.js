import{_ as e,o as t,c as s,V as o}from"./chunks/framework.c495fe11.js";const g=JSON.parse('{"title":"Consultations","description":"","frontmatter":{},"headers":[],"relativePath":"packages/consultations.md","filePath":"packages/consultations.md"}'),a={name:"packages/consultations.md"},n=o(`<h1 id="consultations" tabindex="-1">Consultations <a class="header-anchor" href="#consultations" aria-label="Permalink to &quot;Consultations&quot;">​</a></h1><p>One to one conversation package</p><p><a href="https://escolalms.github.io/Consultations/" target="_blank" rel="noreferrer"><img src="https://img.shields.io/badge/documentation-swagger-green" alt="swagger"></a><a href="https://codecov.io/gh/EscolaLMS/Consultations" target="_blank" rel="noreferrer"><img src="https://codecov.io/gh/EscolaLMS/Consultations/branch/main/graph/badge.svg?token=NRAN4R8AGZ" alt="codecov"></a><a href="https://github.com/EscolaLMS/Consultations/actions/workflows/test.yml" target="_blank" rel="noreferrer"><img src="https://github.com/EscolaLMS/Consultations/actions/workflows/test.yml/badge.svg" alt="phpunit"></a><a href="https://packagist.org/packages/escolalms/consultations" target="_blank" rel="noreferrer"><img src="https://img.shields.io/packagist/dt/escolalms/consultations" alt="downloads"></a><a href="https://packagist.org/packages/escolalms/consultations" target="_blank" rel="noreferrer"><img src="https://img.shields.io/packagist/v/escolalms/consultations" alt="downloads"></a><a href="https://packagist.org/packages/escolalms/consultations" target="_blank" rel="noreferrer"><img src="https://img.shields.io/packagist/l/escolalms/consultations" alt="downloads"></a><a href="https://codeclimate.com/github/EscolaLMS/Consultations/maintainability" target="_blank" rel="noreferrer"><img src="https://api.codeclimate.com/v1/badges/0c9e2593fb30e2048f95/maintainability" alt="Maintainability"></a></p><h2 id="what-does-it-do" tabindex="-1">What does it do <a class="header-anchor" href="#what-does-it-do" aria-label="Permalink to &quot;What does it do&quot;">​</a></h2><p>This package is used for creating Consultation for EscolaLms.</p><h2 id="installing" tabindex="-1">Installing <a class="header-anchor" href="#installing" aria-label="Permalink to &quot;Installing&quot;">​</a></h2><ul><li><code>composer require escolalms/consultations</code></li><li><code>php artisan migrate</code></li><li><code>php artisan db:seed --class=&quot;EscolaLms\\Consultations\\Database\\Seeders\\ConsultationsPermissionSeeder&quot;</code></li></ul><h2 id="schedule" tabindex="-1">Schedule <a class="header-anchor" href="#schedule" aria-label="Permalink to &quot;Schedule&quot;">​</a></h2><ul><li>In App\\Console\\Kernel to method schedule add <ul><li><code>$schedule-&gt;job(new ReminderAboutConsultationJob(ConsultationTermReminderStatusEnum::REMINDED_HOUR_BEFORE))-&gt;everyFiveMinutes()</code> - reminder about to consultation before one hour, executed every 5 minutes</li><li><code>$schedule-&gt;job(new ReminderAboutWebinarJob(ConsultationTermReminderStatusEnum::REMINDED_DAY_BEFORE))-&gt;everySixHours();</code> - reminder about to consultation before one day, executed every 6 hours</li></ul></li></ul><h2 id="endpoints" tabindex="-1">Endpoints <a class="header-anchor" href="#endpoints" aria-label="Permalink to &quot;Endpoints&quot;">​</a></h2><p>All the endpoints are defined in <a href="https://escolalms.github.io/Consultations/" target="_blank" rel="noreferrer"><img src="https://img.shields.io/badge/documentation-swagger-green" alt="swagger"></a></p><h2 id="tests" tabindex="-1">Tests <a class="header-anchor" href="#tests" aria-label="Permalink to &quot;Tests&quot;">​</a></h2><p>Run <code>./vendor/bin/phpunit --filter=Consultation</code> to run tests. See <a href="https://github.com/EscolaLMS/Consultations/tree/main/tests" target="_blank" rel="noreferrer">tests</a> folder as it&#39;s quite good staring point as documentation appendix.</p><p>Test details <a href="https://codecov.io/gh/EscolaLMS/Consultations" target="_blank" rel="noreferrer"><img src="https://codecov.io/gh/EscolaLMS/Consultations/branch/main/graph/badge.svg?token=NRAN4R8AGZ" alt="codecov"></a> <a href="https://github.com/EscolaLMS/Consultations/actions/workflows/test.yml" target="_blank" rel="noreferrer"><img src="https://github.com/EscolaLMS/Consultations/actions/workflows/test.yml/badge.svg" alt="phpunit"></a></p><h2 id="events" tabindex="-1">Events <a class="header-anchor" href="#events" aria-label="Permalink to &quot;Events&quot;">​</a></h2><ul><li><code>EscolaLms\\Consultations\\Events\\ApprovedTerm</code> =&gt; Event is dispatched when trainer approved term reported with buyer. Event refers to users, who have permissions students</li><li><code>EscolaLms\\Consultations\\Events\\ApprovedTermWithTrainer</code> =&gt; Event is dispatched when trainer approved term reported with buyer. Event refers to users, who have permissions tutor</li><li><code>EscolaLms\\Consultations\\Events\\ChangeTerm</code> =&gt; Event is dispatched when trainer changes term in buyed consultations. Event refers to users, who have permissions students</li><li><code>EscolaLms\\Consultations\\Events\\RejectTerm</code> =&gt; Event is dispatched when trainer rejects term reported with buyer. Event refers to users, who have permissions students</li><li><code>EscolaLms\\Consultations\\Events\\RejectTermWithTrainer</code> =&gt; Event is dispatched when trainer rejects term reported with buyer. Event refers to users, who have permissions tutor</li><li><code>EscolaLms\\Consultations\\Events\\ReminderAboutTerm</code> =&gt; Event is dispatched after execute cron job <code>EscolaLms\\Consultations\\Jobs\\ReminderAboutConsultationJob</code>, Event is dispatched when deadline for purchased consultation before 1 hours and 1 day. Event refers to users, who have permissions students</li><li><code>EscolaLms\\Consultations\\Events\\ReminderTrainerAboutTerm</code> =&gt; Event is dispatched some time before start consultation. Event refers to users, who have permissions tutor</li><li><code>EscolaLms\\Consultations\\Events\\ReportTerm</code> =&gt; Event is dispatched after reported term with buyer consultation</li></ul><h2 id="listeners" tabindex="-1">Listeners <a class="header-anchor" href="#listeners" aria-label="Permalink to &quot;Listeners&quot;">​</a></h2><ul><li><code>EscolaLms\\Webinar\\Listeners\\ReminderAboutTermListener</code> =&gt; Listener execute a method that singed the status in the webinar reminder</li></ul><h2 id="how-to-use-this-on-frontend" tabindex="-1">How to use this on frontend. <a class="header-anchor" href="#how-to-use-this-on-frontend" aria-label="Permalink to &quot;How to use this on frontend.&quot;">​</a></h2><h3 id="admin-panel" tabindex="-1">Admin panel <a class="header-anchor" href="#admin-panel" aria-label="Permalink to &quot;Admin panel&quot;">​</a></h3><p><strong>Left menu</strong></p><p><img src="https://raw.githubusercontent.com/EscolaLMS/Consultations/main/docs/menu.png" alt="Menu" title="Menu"></p><p><strong>List of consultations</strong></p><p><img src="https://raw.githubusercontent.com/EscolaLMS/Consultations/main/docs/list.png" alt="List of consultations" title="List of consultations"></p><p><strong>Creating/editing consultation</strong></p><p><img src="https://raw.githubusercontent.com/EscolaLMS/Consultations/main/docs/new_consultation.png" alt="Creating/editing consultation" title="Creating or editing consultation"></p><h3 id="front-application" tabindex="-1">Front Application <a class="header-anchor" href="#front-application" aria-label="Permalink to &quot;Front Application&quot;">​</a></h3><p>...</p><h2 id="permissions" tabindex="-1">Permissions <a class="header-anchor" href="#permissions" aria-label="Permalink to &quot;Permissions&quot;">​</a></h2><p>Permissions are defined in <a href="https://github.com/EscolaLMS/Consultations/tree/main/vendor/escolalms/consultations/database/seeders/ConsultationsPermissionSeeder.php" target="_blank" rel="noreferrer">seeder</a></p><h2 id="database-relation" tabindex="-1">Database relation <a class="header-anchor" href="#database-relation" aria-label="Permalink to &quot;Database relation&quot;">​</a></h2><ol><li><code>Author</code> Consultation is related belong to with User</li><li><code>ProposedTerms</code> Consultation model has many to models ConsultationProposedTerm</li><li><code>Categories</code> Consultation belongs to many with models Categories</li><li><code>Users</code> Consultation is related belongs to many with User which bought consultation</li><li><code>Terms</code> Consultation model has many to models ConsultationUserPivot. It is reported terms</li></ol><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">Consultation 1 -&gt; 1 Author</span></span>
<span class="line"><span style="color:#A6ACCD;">Consultation 1 -&gt; n ProposedTerms</span></span>
<span class="line"><span style="color:#A6ACCD;">Consultation 1 -&gt; n Categories</span></span>
<span class="line"><span style="color:#A6ACCD;">Consultation 1 -&gt; n Users</span></span>
<span class="line"><span style="color:#A6ACCD;">Consultation 1 -&gt; n Terms</span></span></code></pre></div>`,33),i=[n];function r(l,c,d,h,u,p){return t(),s("div",null,i)}const b=e(a,[["render",r]]);export{g as __pageData,b as default};
