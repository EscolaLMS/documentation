import{_ as e,o,c as t,V as a}from"./chunks/framework.c495fe11.js";const m=JSON.parse('{"title":"Vouchers","description":"","frontmatter":{},"headers":[],"relativePath":"packages/vouchers.md","filePath":"packages/vouchers.md"}'),r={name:"packages/vouchers.md"},s=a('<h1 id="vouchers" tabindex="-1">Vouchers <a class="header-anchor" href="#vouchers" aria-label="Permalink to &quot;Vouchers&quot;">​</a></h1><p><a href="https://escolalms.github.io/Vouchers/" target="_blank" rel="noreferrer"><img src="https://img.shields.io/badge/documentation-swagger-green" alt="swagger"></a><a href="https://codecov.io/gh/EscolaLMS/Vouchers" target="_blank" rel="noreferrer"><img src="https://codecov.io/gh/EscolaLMS/Vouchers/branch/main/graph/badge.svg?token=NRAN4R8AGZ" alt="codecov"></a><a href="https://github.com/EscolaLMS/Vouchers/actions/workflows/test.yml" target="_blank" rel="noreferrer"><img src="https://github.com/EscolaLMS/Vouchers/actions/workflows/test.yml/badge.svg" alt="phpunit"></a><a href="https://packagist.org/packages/escolalms/vouchers" target="_blank" rel="noreferrer"><img src="https://img.shields.io/packagist/dt/escolalms/vouchers" alt="downloads"></a><a href="https://packagist.org/packages/escolalms/vouchers" target="_blank" rel="noreferrer"><img src="https://img.shields.io/packagist/v/escolalms/vouchers" alt="downloads"></a><a href="https://packagist.org/packages/escolalms/vouchers" target="_blank" rel="noreferrer"><img src="https://img.shields.io/packagist/l/escolalms/vouchers" alt="downloads"></a><a href="https://codeclimate.com/github/EscolaLMS/Vouchers/maintainability" target="_blank" rel="noreferrer"><img src="https://api.codeclimate.com/v1/badges/b8c8aa16976961f670b4/maintainability" alt="Maintainability"></a></p><h2 id="purpose" tabindex="-1">Purpose <a class="header-anchor" href="#purpose" aria-label="Permalink to &quot;Purpose&quot;">​</a></h2><p>This package lets you define Coupons that can be applied to User Cart before placing an Order, calculating a discount depending on multiple different, configurable rules.</p><h2 id="installation" tabindex="-1">Installation <a class="header-anchor" href="#installation" aria-label="Permalink to &quot;Installation&quot;">​</a></h2><ul><li><code>composer require escolalms/vouchers</code></li><li><code>php artisan migrate</code></li><li><code>php artisan db:seed --class=&quot;EscolaLms\\Vouchers\\Database\\Seeders\\VoucherPermissionsSeeder&quot;</code></li></ul><h2 id="dependencies" tabindex="-1">Dependencies <a class="header-anchor" href="#dependencies" aria-label="Permalink to &quot;Dependencies&quot;">​</a></h2><p>This package depends (and extends) on <a href="https://github.com/EscolaLMS/Cart" target="_blank" rel="noreferrer">EscolaLms/Cart</a> package and can not be used separately.</p><h2 id="usage" tabindex="-1">Usage <a class="header-anchor" href="#usage" aria-label="Permalink to &quot;Usage&quot;">​</a></h2><h3 id="coupon-rules" tabindex="-1">Coupon rules <a class="header-anchor" href="#coupon-rules" aria-label="Permalink to &quot;Coupon rules&quot;">​</a></h3><p>Every coupon defines set of rules that are checked when User tries to add Coupon to Cart. Only if all conditions are met, coupon (discount) can be applied to given Cart content. Some of the conditions work differently depending on type of coupon.</p><ul><li><strong>Min/max amount</strong> - cart value must be at least &quot;min&quot; amount, and if cart value is above &quot;max&quot; amount, discount is only calculated as if value was at the &quot;max&quot; level</li><li><strong>Usage limits</strong> - coupons can not be used after their global or per user limits are reached</li><li><strong>Exclude promotions</strong> - coupon can not be used if products with already discounted price are in the Cart</li></ul><h3 id="types-of-coupon" tabindex="-1">Types of coupon <a class="header-anchor" href="#types-of-coupon" aria-label="Permalink to &quot;Types of coupon&quot;">​</a></h3><p>This package defines four type of discounts, that represent four separate strategies for calculating discount. There are two types that relate to whole Cart and two types that relate to specified Products.</p><h4 id="fixed-cart-amount-coupon" tabindex="-1"><strong>Fixed Cart amount coupon</strong> <a class="header-anchor" href="#fixed-cart-amount-coupon" aria-label="Permalink to &quot;**Fixed Cart amount coupon**&quot;">​</a></h4><p>Coupon of type <code>EscolaLms\\Vouchers\\Enums::CART_FIXED</code> substracts constant amount from total price of Cart. See <a href="https://github.com/EscolaLMS/Vouchers/tree/main/src/Strategies/CartFixedDiscountStrategy.php" target="_blank" rel="noreferrer"><code>EscolaLms\\Vouchers\\Strategies\\CartFixedDiscountStrategy</code></a>.</p><ul><li>At least one of &quot;included products&quot; must be in Cart</li><li>None of &quot;excluded products&quot; must be in Cart</li><li>At least one of &quot;included categories&quot; must be in Cart</li><li>None of &quot;exclude categories&quot; must be in Cart</li></ul><h4 id="percent-cart-amount-coupon" tabindex="-1"><strong>Percent Cart amount coupon</strong> <a class="header-anchor" href="#percent-cart-amount-coupon" aria-label="Permalink to &quot;**Percent Cart amount coupon**&quot;">​</a></h4><p>Coupon of type <code>EscolaLms\\Vouchers\\Enums::CART_PERCENT</code> substracts percentage based amount from total price of Cart, but only for Products not in &quot;excluded products&quot; or &quot;excluded categories&quot; list. See <a href="https://github.com/EscolaLMS/Vouchers/tree/main/src/Strategies/CartPercentDiscountStrategy.php" target="_blank" rel="noreferrer"><code>EscolaLms\\Vouchers\\Strategies\\CartPercentDiscountStrategy</code></a>.</p><ul><li>At least one of &quot;included products&quot; must be in Cart</li><li>At least one of &quot;included categories&quot; must be in Cart</li></ul><h4 id="fixed-product-coupon" tabindex="-1"><strong>Fixed Product coupon</strong> <a class="header-anchor" href="#fixed-product-coupon" aria-label="Permalink to &quot;**Fixed Product coupon**&quot;">​</a></h4><p>Coupon of type <code>EscolaLms\\Vouchers\\Enums::PRODUCT_FIXED</code> substracts constant amount from Product price, but only once per unique Product. Product must be specified in &quot;included products&quot;. See <a href="https://github.com/EscolaLMS/Vouchers/tree/main/src/Strategies/ProductFixedDiscountStrategy.php" target="_blank" rel="noreferrer"><code>EscolaLms\\Vouchers\\Strategies\\ProductFixedDiscountStrategy</code></a>.</p><h4 id="percent-product-coupon" tabindex="-1"><strong>Percent Product coupon</strong> <a class="header-anchor" href="#percent-product-coupon" aria-label="Permalink to &quot;**Percent Product coupon**&quot;">​</a></h4><p>Coupon of type <code>EscolaLms\\Vouchers\\Enums::PRODUCT_FIXED</code> substracts percentage based amount from Product price. Product must be specified in &quot;included products&quot;. See <a href="https://github.com/EscolaLMS/Vouchers/tree/main/src/Strategies/ProductPercentDiscountStrategy.php" target="_blank" rel="noreferrer"><code>EscolaLms\\Vouchers\\Strategies\\ProductPercentDiscountStrategy</code></a>.</p><h3 id="how-to-use-coupon" tabindex="-1">How to use Coupon <a class="header-anchor" href="#how-to-use-coupon" aria-label="Permalink to &quot;How to use Coupon&quot;">​</a></h3><p>Coupon can be added to Cart using <code>POST /api/cart/voucher/</code> endpoint.</p><h2 id="endpoints" tabindex="-1">Endpoints <a class="header-anchor" href="#endpoints" aria-label="Permalink to &quot;Endpoints&quot;">​</a></h2><p>All the endpoints are defined in <a href="https://escolalms.github.io/vouchers/" target="_blank" rel="noreferrer"><img src="https://img.shields.io/badge/documentation-swagger-green" alt="swagger"></a>.</p><h2 id="tests" tabindex="-1">Tests <a class="header-anchor" href="#tests" aria-label="Permalink to &quot;Tests&quot;">​</a></h2><p>Run <code>./vendor/bin/phpunit</code> to run tests. See <a href="https://github.com/EscolaLMS/Vouchers/tree/main/tests" target="_blank" rel="noreferrer">tests</a> directory.</p><p>Test details <a href="https://codecov.io/gh/EscolaLMS/vouchers" target="_blank" rel="noreferrer"><img src="https://codecov.io/gh/EscolaLMS/Vouchers/branch/main/graph/badge.svg?token=NRAN4R8AGZ" alt="codecov"></a> <a href="https://github.com/EscolaLMS/vouchers/actions/workflows/test.yml" target="_blank" rel="noreferrer"><img src="https://github.com/EscolaLMS/Vouchers/actions/workflows/test.yml/badge.svg" alt="phpunit"></a></p><h2 id="events" tabindex="-1">Events <a class="header-anchor" href="#events" aria-label="Permalink to &quot;Events&quot;">​</a></h2><p>There are no events emitted by this package.</p><h2 id="listeners" tabindex="-1">Listeners <a class="header-anchor" href="#listeners" aria-label="Permalink to &quot;Listeners&quot;">​</a></h2><p>There are no listeners specified in this package.</p><h2 id="how-to-use-this-on-frontend" tabindex="-1">How to use this on frontend <a class="header-anchor" href="#how-to-use-this-on-frontend" aria-label="Permalink to &quot;How to use this on frontend&quot;">​</a></h2><h3 id="admin-panel" tabindex="-1">Admin panel <a class="header-anchor" href="#admin-panel" aria-label="Permalink to &quot;Admin panel&quot;">​</a></h3><h4 id="menu" tabindex="-1"><strong>Menu</strong> <a class="header-anchor" href="#menu" aria-label="Permalink to &quot;**Menu**&quot;">​</a></h4><p><img src="https://raw.githubusercontent.com/EscolaLMS/Vouchers/main/docs/menu.png" alt="Menu" title="Menu"></p><h4 id="list-of-coupons" tabindex="-1"><strong>List of Coupons</strong> <a class="header-anchor" href="#list-of-coupons" aria-label="Permalink to &quot;**List of Coupons**&quot;">​</a></h4><p><img src="https://raw.githubusercontent.com/EscolaLMS/Vouchers/main/docs/list.png" alt="List of Coupons" title="List of Coupons"></p><h4 id="creating-editing-coupon" tabindex="-1"><strong>Creating/editing Coupon</strong> <a class="header-anchor" href="#creating-editing-coupon" aria-label="Permalink to &quot;**Creating/editing Coupon**&quot;">​</a></h4><p><img src="https://raw.githubusercontent.com/EscolaLMS/Vouchers/main/docs/edit.png" alt="Creating/editing Coupon" title="Creating/editing Coupon"></p><h2 id="permissions" tabindex="-1">Permissions <a class="header-anchor" href="#permissions" aria-label="Permalink to &quot;Permissions&quot;">​</a></h2><p>Permissions are defined in <a href="https://github.com/EscolaLMS/Vouchers/tree/main/src/Enums/VoucherPermissionsEnum.php" target="_blank" rel="noreferrer">Enum</a> and seeded in <a href="database/seeders/VoucherPermissionsSeeder.php">Seeder</a>.</p><h2 id="roadmap-todo-troubleshooting" tabindex="-1">Roadmap. Todo. Troubleshooting <a class="header-anchor" href="#roadmap-todo-troubleshooting" aria-label="Permalink to &quot;Roadmap. Todo. Troubleshooting&quot;">​</a></h2><ul><li>endpoint for removing Coupon from Cart</li></ul>',47),n=[s];function i(c,u,l,d,h,p){return o(),t("div",null,n)}const f=e(r,[["render",i]]);export{m as __pageData,f as default};
