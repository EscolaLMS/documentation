import{_ as e,o as a,c as t,V as s}from"./chunks/framework.c495fe11.js";const f=JSON.parse('{"title":"Templates-PDF","description":"","frontmatter":{},"headers":[],"relativePath":"packages/templates-pdf.md","filePath":"packages/templates-pdf.md"}'),i={name:"packages/templates-pdf.md"},r=s('<h1 id="templates-pdf" tabindex="-1">Templates-PDF <a class="header-anchor" href="#templates-pdf" aria-label="Permalink to &quot;Templates-PDF&quot;">​</a></h1><p>Package for generating PDFs from configurable Templates.</p><p><a href="https://escolalms.github.io/Templates-PDF/" target="_blank" rel="noreferrer"><img src="https://img.shields.io/badge/documentation-swagger-green" alt="swagger"></a><a href="https://codecov.io/gh/EscolaLMS/Templates-PDF" target="_blank" rel="noreferrer"><img src="https://codecov.io/gh/EscolaLMS/Templates-PDF/branch/main/graph/badge.svg?token=O91FHNKI6R" alt="codecov"></a><a href="https://github.com/EscolaLMS/Templates-PDF/actions/workflows/test.yml" target="_blank" rel="noreferrer"><img src="https://github.com/EscolaLMS/Templates-PDF/actions/workflows/test.yml/badge.svg" alt="Tests PHPUnit in environments"></a><a href="https://codeclimate.com/github/EscolaLMS/Templates-PDF/maintainability" target="_blank" rel="noreferrer"><img src="https://api.codeclimate.com/v1/badges/60eb83351d2d550c15cb/maintainability" alt="Maintainability"></a><a href="https://codeclimate.com/github/EscolaLMS/Templates-PDF/test_coverage" target="_blank" rel="noreferrer"><img src="https://api.codeclimate.com/v1/badges/60eb83351d2d550c15cb/test_coverage" alt="Test Coverage"></a><a href="https://packagist.org/packages/escolalms/templates-pdf" target="_blank" rel="noreferrer"><img src="https://img.shields.io/packagist/dt/escolalms/templates-pdf" alt="downloads"></a><a href="https://packagist.org/packages/escolalms/templates-pdf" target="_blank" rel="noreferrer"><img src="https://img.shields.io/packagist/v/escolalms/templates-pdf" alt="downloads"></a><a href="https://packagist.org/packages/escolalms/templates-pdf" target="_blank" rel="noreferrer"><img src="https://img.shields.io/packagist/l/escolalms/templates-pdf" alt="downloads"></a></p><h2 id="purpose" tabindex="-1">Purpose <a class="header-anchor" href="#purpose" aria-label="Permalink to &quot;Purpose&quot;">​</a></h2><p>This package allows you to create PDFs generated after a specific Event is emitted in Laravel / LMS app.</p><p>Each PDF Template has a corresponding class describing available variables that can be used in the Template (which will be stored in database and editable through admin panel). Templates are saved as serialized fabric.js canvas containing these variables which will be replaced during PDF generation with correct data extracted from Event.</p><p>Class describing Template Variables must be registered using Template facade from <code>EscolaLms\\Template</code> package, where you specify which Event it is associated with it and which Channel it is sent through (e.g. <code>EscolaLms\\TemplatesPdf\\Core\\PdfChannel</code> which is defined in this package).</p><h2 id="installing" tabindex="-1">Installing <a class="header-anchor" href="#installing" aria-label="Permalink to &quot;Installing&quot;">​</a></h2><ul><li><code>composer require escolalms/templates-pdf</code></li><li><code>php artisan db:migrate</code></li><li><code>php artisan db:seed --class=&quot;EscolaLms\\TemplatesPdf\\Database\\Seeders\\TemplatesPdfSeeder&quot;</code> to create default templates for all Variable/Event pairs registered for PDF channel</li></ul><h2 id="dependencies" tabindex="-1">Dependencies <a class="header-anchor" href="#dependencies" aria-label="Permalink to &quot;Dependencies&quot;">​</a></h2><ul><li><code>EscolaLms\\Templates</code> core Templates package</li><li>optional: <code>EscolaLms\\Courses</code> for generating PDFs related to Courses</li></ul><h2 id="usage" tabindex="-1">Usage <a class="header-anchor" href="#usage" aria-label="Permalink to &quot;Usage&quot;">​</a></h2><h3 id="defining-templates" tabindex="-1">Defining Templates <a class="header-anchor" href="#defining-templates" aria-label="Permalink to &quot;Defining Templates&quot;">​</a></h3><ol><li>Create Event which triggers generation of PDF using specified template. This event must implement method <code>getUser()</code> returning User model from LMS Core package.</li><li>Create class defining template Variables, which you will use in PDF template,</li><li>Associate your class describing template Variables with correct Event and Channel. Use <code>EscolaLms\\Templates\\Facades\\Template::register(Event class, EscolaLms\\TemplatesPdf\\Core\\PdfChannel::class, Variable class);</code> method.</li><li>Use admin panel or <code>/api/admin/templates</code> web API to create/edit templates associated with this Variable/Event/Channel set. See <a href="https://github.com/EscolaLMS/Templates" target="_blank" rel="noreferrer">Template package</a> for more information.</li></ol><h2 id="tests" tabindex="-1">Tests <a class="header-anchor" href="#tests" aria-label="Permalink to &quot;Tests&quot;">​</a></h2><p>Run <code>./vendor/bin/phpunit --filter &#39;EscolaLms\\\\TemplatesPdf\\\\Tests&#39;</code> to run tests. See <a href="https://github.com/EscolaLMS/Templates-PDF/tree/main/tests" target="_blank" rel="noreferrer">tests</a> folder as it contains a basic implementation of Variables class (description of what Template can/must contain) with minimal customisation - a quite good starting point for creating your own.</p><p>Test details: <a href="https://codeclimate.com/github/EscolaLMS/Templates-PDF/maintainability" target="_blank" rel="noreferrer"><img src="https://api.codeclimate.com/v1/badges/60eb83351d2d550c15cb/maintainability" alt="Maintainability"></a><a href="https://codeclimate.com/github/EscolaLMS/Templates-PDF/test_coverage" target="_blank" rel="noreferrer"><img src="https://api.codeclimate.com/v1/badges/60eb83351d2d550c15cb/test_coverage" alt="Test Coverage"></a></p><h2 id="usage-on-front-end" tabindex="-1">Usage on front end <a class="header-anchor" href="#usage-on-front-end" aria-label="Permalink to &quot;Usage on front end&quot;">​</a></h2><h3 id="admin-panel" tabindex="-1">Admin panel <a class="header-anchor" href="#admin-panel" aria-label="Permalink to &quot;Admin panel&quot;">​</a></h3><h4 id="left-menu" tabindex="-1"><strong>Left menu</strong> <a class="header-anchor" href="#left-menu" aria-label="Permalink to &quot;**Left menu**&quot;">​</a></h4><p><img src="https://raw.githubusercontent.com/EscolaLMS/Templates-PDF/main/docs/menu.png" alt="Menu" title="Menu"></p><h4 id="list-of-templates" tabindex="-1"><strong>List of templates</strong> <a class="header-anchor" href="#list-of-templates" aria-label="Permalink to &quot;**List of templates**&quot;">​</a></h4><p><img src="https://raw.githubusercontent.com/EscolaLMS/Templates-PDF/main/docs/list.png" alt="List of templates" title="List of templates"></p><h4 id="creating-editing-template" tabindex="-1"><strong>Creating/editing template</strong> <a class="header-anchor" href="#creating-editing-template" aria-label="Permalink to &quot;**Creating/editing template**&quot;">​</a></h4><p><img src="https://raw.githubusercontent.com/EscolaLMS/Templates-PDF/main/docs/edit.png" alt="Creating/editing template" title="Creating or editing template"></p><h2 id="permissions" tabindex="-1">Permissions <a class="header-anchor" href="#permissions" aria-label="Permalink to &quot;Permissions&quot;">​</a></h2><p>Permissions are defined in <a href="https://github.com/EscolaLMS/Templates-PDF/tree/main/src/Enums/PdfPermissionsEnum.php" target="_blank" rel="noreferrer">Enum</a> and seeded in <a href="database/seeders/PermissionTableSeeder.php">Seeder</a>.</p><h2 id="roadmap-todo-troubleshooting" tabindex="-1">Roadmap. Todo. Troubleshooting <a class="header-anchor" href="#roadmap-todo-troubleshooting" aria-label="Permalink to &quot;Roadmap. Todo. Troubleshooting&quot;">​</a></h2><ul><li>???</li></ul>',29),l=[r];function o(n,c,d,p,m,h){return a(),t("div",null,l)}const b=e(i,[["render",o]]);export{f as __pageData,b as default};
